var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from"react/jsx-runtime";import{ClickAwayListener}from"@mui/material";import{useContext}from"react";import{Highlight,PlacementPosition}from"../../../index.types";import InternalHeader from"../../../internal/InternalHeader";import DataProvider from"../../../Store";import{StyledBox,StyledContainer,StyledPopper}from"./css";export default function(e){var t,n=e.id,i=e.enrichedPopper,o=e.highlight,r=void 0===o?Highlight.DEFAULT:o,a=e.statusObject,s=e.anchorEl,l=e.setAnchorEl,c=e.options,p=e.open,d=e.secondary,h=void 0!==d&&d,g=useContext(DataProvider).settings,u=(null==a?void 0:a.keepOpen)||p?Highlight.PRIMARY:r;return _jsx(_Fragment,{children:_jsx(StyledPopper,__assign({},{keepMounted:null==a?void 0:a.keepOpen,open:p&&Boolean(s),anchorEl:s,onClose:i.onClose,elevation:i.elevation,placement:"".concat(g.position===PlacementPosition.TOP?"bottom":"top","-").concat(h?"end":"start"),id:"mui-status-panel-popover-".concat(n)},{children:_jsx(ClickAwayListener,__assign({onClickAway:function(e){return function(e){i.onClose&&!(null==a?void 0:a.keepOpen)&&i.onClose(e),(null==a?void 0:a.keepOpen)&&g.hasLock||l(null)}(e)}},{children:_jsxs(StyledContainer,__assign({},{elevation:i.elevation,highlight:u.toString(),variant:g.variant.toString(),decoration:null===(t=i.hasDecoration)||void 0===t?void 0:t.toString()},{children:[_jsx(StyledBox,__assign({display:"flex",alignItems:"stretch",justifyContent:"space-between",flexDirection:"column",width:i.width,height:i.height},{children:null==c?void 0:c.content})),i.hasToolbar&&_jsx(InternalHeader,__assign({},{id:n,actions:c.actions,title:null==c?void 0:c.title}))]}))}))}))})}