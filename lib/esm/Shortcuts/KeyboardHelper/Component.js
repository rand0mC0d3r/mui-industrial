var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from"react/jsx-runtime";import HistoryIcon from"@mui/icons-material/History";import{Box,ClickAwayListener,TextField}from"@mui/material";import{useContext}from"react";import InternalHeader from"../../internal/InternalHeader";import DataProvider from"../../Store";import{StyledContainer,StyledKey,StyledPopper}from"./css";export default function(e){var t=e.idPopper,n=e.anchorEl,r=e.open,i=e.handleClose,o=e.shortcutId,a=e.shortcutObject,l=useContext(DataProvider).handleKeyboardUpdate,s=useContext(DataProvider).handleKeyboardRevert,c=function(e,t,n){return _jsx(StyledKey,__assign({elevation:1,onClick:function(){return l(o,__assign(__assign({},a),t))},highlight:(n||!1).toString()},{children:e}))};return _jsx(_Fragment,{children:_jsx(StyledPopper,__assign({},{elevation:2,open:r,anchorEl:n,onClose:i,id:"mui-status-panel-popover-".concat(t)},{children:_jsx(ClickAwayListener,__assign({onClickAway:function(){return i()}},{children:_jsxs(StyledContainer,{children:[_jsxs(Box,__assign({display:"flex",flexDirection:"row",alignItems:"center",style:{gap:"8px"}},{children:[c("⇧",{shiftKey:!(null==a?void 0:a.shiftKey)},null==a?void 0:a.shiftKey),c("⌃",{ctrlKey:!(null==a?void 0:a.ctrlKey)},null==a?void 0:a.ctrlKey),c("⌥",{altKey:!(null==a?void 0:a.altKey)},null==a?void 0:a.altKey),c("⌘",{metaKey:!(null==a?void 0:a.metaKey)},null==a?void 0:a.metaKey),_jsx(TextField,{color:"info",size:"small",variant:"outlined",label:"Char",autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},value:(null==a?void 0:a.char)||"",onChange:function(e){return e.target.value.length>0&&l(o,__assign(__assign({},a),{char:e.target.value.substring(0,1).toUpperCase()}))}}),_jsx(TextField,{color:"info",size:"small",variant:"outlined",label:"Ascii",type:"number",onFocus:function(e){return e.currentTarget.select()},value:(null==a?void 0:a.ascii)||"",onChange:function(e){return l(o,__assign(__assign({},a),{ascii:Number(e.target.value)}))}})]})),_jsx(InternalHeader,{noDefaults:!0,title:a.label,id:"consoleHeader",actions:[{icon:_jsx(HistoryIcon,{}),tooltip:"Revert to original shortcut",onClick:function(){return s(o)}}]})]})}))}))})}