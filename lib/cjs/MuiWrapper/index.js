"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=require("react/jsx-runtime"),CheckBoxOutlineBlankOutlined_1=__importDefault(require("@mui/icons-material/CheckBoxOutlineBlankOutlined")),CheckBoxOutlined_1=__importDefault(require("@mui/icons-material/CheckBoxOutlined")),material_1=require("@mui/material"),styles_1=require("@mui/material/styles"),react_1=require("react"),InternalStatus_1=__importDefault(require("../MuiStatusBar/InternalStatus")),MuiStore_1=__importDefault(require("../MuiStore")),index_types_1=require("../index.types"),InternalConsole_1=__importDefault(require("../MuiStatusBar/InternalConsole")),SBox=(0,styles_1.styled)("div")(function(e){return{height:"100%",width:"100%",gap:"0px",position:"absolute",display:"flex",top:"0px",bottom:"0px",left:"0px",right:"0px",flexDirection:e.column===index_types_1.PlacementPosition.Top?"column-reverse":"column"}}),SChildren=(0,styles_1.styled)("div")(function(){return{flex:"1 1 auto",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"}}),StyledTypographyNoChildren=(0,styles_1.styled)(material_1.Typography)(function(){return{userSelect:"none"}}),SElement=(0,styles_1.styled)("div")(function(){return{display:"flex",flexDirection:"row",gap:"16px",padding:"8px"}}),SElementItem=(0,styles_1.styled)("div")(function(e){var t=e.theme;return{display:"flex",minWidth:"165px",cursor:"pointer",flexDirection:"row",alignItems:"center",gap:"4px",padding:"4px 6px","&:hover":{backgroundColor:t.palette.primary.light,color:"".concat(t.palette.background.default," !important")}}}),SStatusWrapper=(0,styles_1.styled)("div")(function(e){var t=e.theme,n=e.position;return{gap:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"light"===t.palette.mode?t.palette.background.default:t.palette.background.paper,boxShadow:"inset 0px ".concat("top"===n?-3:3,"px 0px -2px ").concat(t.palette.divider)}});function default_1(e){var t=e.children,n=(0,react_1.useContext)(MuiStore_1.default),i=n.status,r=n.handleStatusVisibilityToggle,o=(0,react_1.useContext)(MuiStore_1.default).settings,l=o.position,a=o.upperBar,s=(0,react_1.useState)(null),u=s[0],_=s[1],c=Boolean(u),p=function(e){return(0,jsx_runtime_1.jsxs)(SElementItem,__assign({onClick:function(){return r({id:e.uniqueId})}},{children:[e.visible?(0,jsx_runtime_1.jsx)(CheckBoxOutlined_1.default,{}):(0,jsx_runtime_1.jsx)(CheckBoxOutlineBlankOutlined_1.default,{}),e.children||(0,jsx_runtime_1.jsx)(StyledTypographyNoChildren,__assign({variant:"caption",color:"textSecondary"},{children:"No content for child"}))]}))};return(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsxs)(SBox,__assign({id:"mui-status-wrapper"},{column:l},{children:[(0,jsx_runtime_1.jsxs)(SChildren,__assign({id:"mui-status-children"},{children:[t,i.some(function(e){return e.type===index_types_1.StatusType.CONSOLE})&&(0,jsx_runtime_1.jsx)(InternalConsole_1.default,{})]})),i.some(function(e){return e.visible})&&(0,jsx_runtime_1.jsx)(SStatusWrapper,__assign({},{position:l,onContextMenu:function(e){e.preventDefault(),_(e.currentTarget)}},{children:(0,jsx_runtime_1.jsx)(InternalStatus_1.default,{})}))]})),(0,jsx_runtime_1.jsx)(material_1.Popover,__assign({id:"toggle-status-popover"},{open:c,anchorEl:u,onClose:function(){return _(null)},elevation:1},{anchorOrigin:{vertical:a?"top":"bottom",horizontal:"center"},transformOrigin:{vertical:a?"top":"bottom",horizontal:"center"},style:{marginTop:"".concat(12*(a?1:-1),"px")}},{children:(0,jsx_runtime_1.jsx)(SElement,__assign({},{onContextMenu:function(e){e.preventDefault()}},{children:[!1,!0].map(function(e){return(0,jsx_runtime_1.jsx)("div",{children:i.filter(function(t){return t.secondary===e}).map(function(e){return function(e){return(0,jsx_runtime_1.jsx)(material_1.Tooltip,__assign({},{key:e.uniqueId,title:"Toggle visibility of tile"},{children:p(e)}))}(e)})},e.toString())})}))}))]})}exports.default=default_1;