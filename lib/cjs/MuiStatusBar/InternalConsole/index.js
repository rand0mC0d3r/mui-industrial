"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=require("react/jsx-runtime"),AppsOutage_1=__importDefault(require("@mui/icons-material/AppsOutage")),Close_1=__importDefault(require("@mui/icons-material/Close")),material_1=require("@mui/material"),styles_1=require("@mui/material/styles"),re_resizable_1=require("re-resizable"),react_1=require("react"),MuiStore_1=__importDefault(require("../../MuiStore")),StyledStatusConsole=(0,styles_1.styled)("div")(function(){return{flex:"1 0 auto",overflow:"hidden"}}),StyledResizable=(0,styles_1.styled)("div")(function(){return{display:"flex",flexDirection:"column",flex:"1 1 auto"}}),StyledWrapper=(0,styles_1.styled)("div")(function(e){var t=e.theme;return{display:"flex",flexDirection:"column",position:"absolute",borderTop:"1px solid ".concat(t.palette.divider),backgroundColor:t.palette.background.default,bottom:"0px",left:"0px",alignItems:"center",right:"0px","& > div > div:nth-child(2) > div:not(:first-child)":{display:"none"}}}),StyledEmptyWrapper=(0,styles_1.styled)("div")(function(){return{display:"flex",flexDirection:"column",flex:"1 1 auto",justifyContent:"center",alignItems:"center",gap:"8px"}}),StyledTabs=(0,styles_1.styled)("div")(function(){return{display:"flex",flexDirection:"row",gap:"0px"}}),StyledCloseIcon=(0,styles_1.styled)(Close_1.default)(function(){return{fontSize:"20px"}}),StyledTab=(0,styles_1.styled)(material_1.Typography)(function(e){var t=e.theme,r=e.activated;return{padding:"4px 12px",cursor:"pointer",backgroundColor:"true"===r?t.palette.primary.main:"transparent",color:"true"===r?t.palette.background.default:t.palette.text.secondary,"&:hover":{backgroundColor:"true"===r?t.palette.primary.dark:t.palette.divider,color:"true"===r?t.palette.background.default:t.palette.text.primary}}}),domId="mui-status-console",domIdWrapper="mui-status-console-wrapper",relevantType="console";function default_1(){var e=(0,react_1.useContext)(MuiStore_1.default),t=e.status,r=e.updateConsoleActiveId,i=e.updateIsConsoleOpen,n=(0,react_1.useContext)(MuiStore_1.default).settings,s=n.consoleActiveId,a=n.isConsoleOpen,l=function(e){return e===s},o=t.filter(function(e){return e.type===relevantType}),u=(0,react_1.useState)("300px"),d=u[0],_=u[1],c=(0,react_1.useState)("100%"),p=c[0],x=c[1],m=(0,react_1.useCallback)(function(e){27===e.keyCode&&i()},[]);return(0,react_1.useEffect)(function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}},[m]),(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{children:a&&(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{children:t.some(function(e){return e.type===relevantType})&&(0,jsx_runtime_1.jsx)(StyledWrapper,__assign({},{id:domIdWrapper},{children:(0,jsx_runtime_1.jsx)(re_resizable_1.Resizable,__assign({onResizeStop:function(e,t,i,n){var s=Number(d.replace("px",""))+n.height;s<125?r({}):(_("".concat(s,"px")),x("100%"))},style:{display:"flex",flexDirection:"column"},minHeight:"75px",maxHeight:"950px",defaultSize:{width:p,height:d}},{children:(0,jsx_runtime_1.jsx)(StyledResizable,{children:o.some(function(e){return e.uniqueId===s})?(0,jsx_runtime_1.jsxs)("div",__assign({style:{flex:"1 1 auto",display:"flex",flexDirection:"column"}},{children:[(0,jsx_runtime_1.jsxs)("div",__assign({style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},{children:[(0,jsx_runtime_1.jsx)(StyledTabs,{children:o.map(function(e){var t=e.uniqueId,i=e.title;return(0,jsx_runtime_1.jsx)(StyledTab,__assign({},{key:t,variant:"caption",onClick:function(){return r({id:t})},activated:l(t).toString()},{children:i||t}))})}),(0,jsx_runtime_1.jsx)(material_1.Tooltip,__assign({},{title:"Close console section"},{children:(0,jsx_runtime_1.jsx)(StyledCloseIcon,__assign({},{onClick:function(){return r({})}}))}))]})),(0,jsx_runtime_1.jsx)(StyledStatusConsole,__assign({},{id:domId}))]})):(0,jsx_runtime_1.jsxs)(StyledEmptyWrapper,{children:[(0,jsx_runtime_1.jsx)(AppsOutage_1.default,{}),(0,jsx_runtime_1.jsx)(material_1.Typography,__assign({},{variant:"caption",color:"textSecondary"},{children:"Seems no consoles available. Select one from above"}))]})})}))}))})})}exports.default=default_1;