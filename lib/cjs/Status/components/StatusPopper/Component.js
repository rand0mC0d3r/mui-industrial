"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var jsx_runtime_1=require("react/jsx-runtime"),material_1=require("@mui/material"),react_1=require("react"),index_types_1=require("../../../index.types"),InternalHeader_1=__importDefault(require("../../../internal/InternalHeader")),Store_1=__importDefault(require("../../../Store")),css_1=require("./css");exports.default=function(e){var t,n=e.id,i=e.enrichedPopper,r=e.highlight,o=void 0===r?index_types_1.Highlight.DEFAULT:r,s=e.statusObject,a=e.anchorEl,l=e.setAnchorEl,_=e.options,u=e.open,c=e.secondary,d=void 0!==c&&c,p=(0,react_1.useContext)(Store_1.default).settings,h=(null==s?void 0:s.keepOpen)||u?index_types_1.Highlight.PRIMARY:o;return(0,jsx_runtime_1.jsx)(jsx_runtime_1.Fragment,{children:(0,jsx_runtime_1.jsx)(css_1.StyledPopper,__assign({},{keepMounted:null==s?void 0:s.keepOpen,open:u&&Boolean(a),anchorEl:a,onClose:i.onClose,elevation:i.elevation,placement:"".concat(p.position===index_types_1.PlacementPosition.TOP?"bottom":"top","-").concat(d?"end":"start"),id:"mui-status-panel-popover-".concat(n)},{children:(0,jsx_runtime_1.jsx)(material_1.ClickAwayListener,__assign({onClickAway:function(e){return function(e){i.onClose&&!(null==s?void 0:s.keepOpen)&&i.onClose(e),(null==s?void 0:s.keepOpen)&&p.hasLock||l(null)}(e)}},{children:(0,jsx_runtime_1.jsxs)(css_1.StyledContainer,__assign({},{elevation:i.elevation,highlight:h.toString(),variant:p.variant.toString(),decoration:null===(t=i.hasDecoration)||void 0===t?void 0:t.toString()},{children:[(0,jsx_runtime_1.jsx)(css_1.StyledBox,__assign({display:"flex",alignItems:"stretch",justifyContent:"space-between",flexDirection:"column",width:i.width,height:i.height},{children:null==_?void 0:_.content})),i.hasToolbar&&(0,jsx_runtime_1.jsx)(InternalHeader_1.default,__assign({},{id:n,actions:_.actions,title:null==_?void 0:_.title}))]}))}))}))})};